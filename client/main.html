<head>
  <title>Tiny Patch</title>
  <link href='https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-locatecontrol/v0.43.0/css/font-awesome.min.css' rel='stylesheet' />
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700' rel='stylesheet' type='text/css'>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
</head>
<body>

</body>

<template name="main">
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span> 
          </button>
          <a class="navbar-brand" href="/">Patch Match</a>
        </div>
        <div class="collapse navbar-collapse" id="myNavbar">
          <ul class="nav navbar-nav">
            <li><a href="/new">Add</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li><a href="#"><span class="glyphicon glyphicon-user"></span> Sign Up</a></li>
            <li><a href="#"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
          </ul>
        </div>
      </div>
    </nav>
  
    {{> yield}}
</template>

<template name="listing">
    <div class="col-md-12 left-side">
    <h1>{{title}}</h1>
    <p>ID: {{_id}}</p>
    
    <section class="block">
        <div id="myCarousel" class="carousel slide">
            <div class="carousel-inner">
                <div class="active item">
                    <img src="{{photo}}" class="img-responsive" style="width:100%;"/>
                </div>
                <div class="item">
                    <img src="{{photo}}" class="img-responsive" style="width:100%;"/>
                </div>
                <div class="item">
                    <img src="{{photo}}" class="img-responsive" style="width:100%;"/>
                </div>
            </div>
            <a class="carousel-control left" href="#myCarousel" data-slide="prev">‹</a>
            <a class="carousel-control right" href="#myCarousel" data-slide="next">›</a>

        </div>
    </section>
    </div>
</template>

<template name="home">
    <div class="col-md-7 left-side" id="listings">
    
      {{#each results}}
        <div class="col-md-6">
        <div class="listing">
          <a href="listing/{{_id}}" target="_blank">
            <div class="overlay-price">$ {{price}}/mo</div>
            <img src="{{photo}}" class="img-responsive" style="width:100%;"/>
            <div class="details"><h3 class="listing-title">{{title}}</h3></div>
          </a>
        </div>
      </div>
      {{/each}}
    </div>

    <div class="col-md-5 right-side">
     <div id="overlay" style="position:absolute; top:70px; right:0px; height:50px; width:75%; z-index: 100">
       <form class="locate-search">
        <input type="text" name="text" placeholder="Find location" style="width:75%;" />
       </form>
     </div>

    {{> map}}
    </div>
</template>

<template name="map">
      <div id="map" class="map"></div>
</template>

<template name="new">
  <div class="spacey"></div>
  <div class="col-md-6">
    <h1>Add New</h1>
    {{#autoForm id="insertForm" type="insert" collection="Listings"}}
    {{> afQuickField name="title"}}
    {{> afQuickField name="address"}}
    {{> afQuickField name="price"}}
    {{> afQuickField name="coordinates"}}
    <button type="submit">Submit</button>
    {{/autoForm}}
  </div>

</template>
